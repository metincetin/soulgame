[gd_scene load_steps=9 format=2]

[ext_resource path="res://materials/tests/checker.tres" type="Material" id=1]
[ext_resource path="res://packed_scenes/DebugEnemy.tscn" type="PackedScene" id=2]
[ext_resource path="res://packed_scenes/DebugCharacter.tscn" type="PackedScene" id=3]
[ext_resource path="res://Animations/FPS_Animations/Sword_Animation/0_1.png" type="Texture" id=4]
[ext_resource path="res://Animations/FPS_Animations/Magic_Animation/0_1.png" type="Texture" id=5]

[sub_resource type="ConcavePolygonShape" id=1]
data = PoolVector3Array( 7.5, 0, 7.5, -7.5, 0, 7.5, 7.5, 0, -7.5, -7.5, 0, 7.5, -7.5, 0, -7.5, 7.5, 0, -7.5 )

[sub_resource type="PlaneMesh" id=2]
material = ExtResource( 1 )
size = Vector2( 15, 15 )

[sub_resource type="GDScript" id=4]
script/source = "extends Node


# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"


export var knockback_force:float = 10
# Called when the node enters the scene tree for the first time.
func _ready():
	pass # Replace with function body.
	
func _input(ev):
	if Input.is_action_just_pressed(\"attack\"):
		var enemy = get_node(\"../DebugEnemy\")
		var player = get_node(\"../DebugCharacter\")
		

		var dir = player.transform.origin - enemy.transform.origin
		dir = -dir.normalized()
		enemy.knockback(dir * knockback_force + Vector3(0, knockback_force,0))
		


# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#	pass
"

[node name="KnocbackTest" type="Spatial"]

[node name="Ground" type="StaticBody" parent="."]
transform = Transform( 1.01092, 0, 0, 0, 1.01092, 0, 0, 0, 1.01092, 0, 0, 0 )

[node name="CollisionShape" type="CollisionShape" parent="Ground"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="Ground"]
mesh = SubResource( 2 )
material/0 = null

[node name="DebugCharacter" parent="." instance=ExtResource( 3 )]

[node name="FPS" type="Control" parent="DebugCharacter"]
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Left" type="TextureRect" parent="DebugCharacter/FPS"]
anchor_right = 1.0
anchor_bottom = 1.0
texture = ExtResource( 5 )
expand = true
stretch_mode = 7

[node name="Right" type="TextureRect" parent="DebugCharacter/FPS"]
anchor_right = 1.0
anchor_bottom = 1.0
texture = ExtResource( 4 )
expand = true
stretch_mode = 7

[node name="DebugEnemy" parent="." instance=ExtResource( 2 )]

[node name="KnockbackTester" type="Node" parent="."]
script = SubResource( 4 )
knockback_force = 50.0

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, 0.5266, 0.850113, 0, -0.850113, 0.5266, 0, 0, 0 )
shadow_enabled = true

[editable path="DebugCharacter"]
